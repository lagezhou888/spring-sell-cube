<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cgz.business.mapper.BusinessMapper">

        <!-- 通用查询映射结果 -->
        <resultMap id="BaseResultMap" type="com.cgz.business.model.Business">
                    <id     column="id" property="id"/>
                    <result column="name" property="name"/>
                    <result column="phone" property="phone"/>
                    <result column="advanceNum" property="advanceNum"/>
                    <result column="receivedNum" property="receivedNum"/>
                    <result column="creditRating" property="creditRating"/>
        </resultMap>

        <!-- 通用查询结果列 -->
        <sql id="Base_Column_List">
                s.id,
                s.name,
                s.phone,
                s.advanceNum,
                s.receivedNum,
                s.creditRating
        </sql>

    <select id="queryPage" resultMap="BaseResultMap" >
        select
        <include refid="Base_Column_List" />
        from business s
        <where>
            1 = 1
                    <if test="et.name != null and ''!= et.name">
                        and s.name = #{et.name}
                    </if>
                    <if test="et.phone != null and ''!= et.phone">
                        and s.phone = #{et.phone}
                    </if>
                    <if test="et.advanceNum != null and ''!= et.advanceNum">
                        and s.advanceNum = #{et.advanceNum}
                    </if>
                    <if test="et.receivedNum != null and ''!= et.receivedNum">
                        and s.receivedNum = #{et.receivedNum}
                    </if>
                    <if test="et.creditRating != null and ''!= et.creditRating">
                        and s.creditRating = #{et.creditRating}
                    </if>
        </where>
    </select>

    <select id="selectGetAll" resultType="com.cgz.business.model.Business" >
        select
        <include refid="Base_Column_List" />
        from business s
        <where>
            1 = 1
                    <if test="et.name != null and ''!= et.name">
                        and s.name = #{et.name}
                    </if>
                    <if test="et.phone != null and ''!= et.phone">
                        and s.phone = #{et.phone}
                    </if>
                    <if test="et.advanceNum != null and ''!= et.advanceNum">
                        and s.advanceNum = #{et.advanceNum}
                    </if>
                    <if test="et.receivedNum != null and ''!= et.receivedNum">
                        and s.receivedNum = #{et.receivedNum}
                    </if>
                    <if test="et.creditRating != null and ''!= et.creditRating">
                        and s.creditRating = #{et.creditRating}
                    </if>
        </where>
    </select>
</mapper>
